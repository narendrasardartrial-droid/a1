{% extends "base.html" %}
{% block title %}Register Student{% endblock %}

{% block content %}
<div class="card shadow p-4">
  <h3 class="mb-4">Register New Student</h3>

  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }}">{{ message }}</div>
    {% endfor %}
  {% endif %}

  <form method="post">
    {% csrf_token %}

    <div class="row mb-3">
      <div class="col-md-6">
        <label class="form-label">Enrollment No</label>
        <input type="text" name="enrollment_no" class="form-control" required>
      </div>
      <div class="col-md-6">
        <label class="form-label">Email (Username)</label>
        <input type="email" name="email" class="form-control" required>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <label class="form-label">First Name</label>
        <input type="text" name="first_name" class="form-control" required>
      </div>
      <div class="col-md-6">
        <label class="form-label">Last Name</label>
        <input type="text" name="last_name" class="form-control" required>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <label class="form-label">Department</label>
        <select name="department" class="form-select" required>
          <option value="">-- Select Department --</option>
          {% for dept in departments %}
            <option value="{{ dept.id }}">{{ dept.code }} - {{ dept.name }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-md-6">
        <label class="form-label">Semester</label>
        <select name="semester" class="form-select" required>
          <option value="">-- Select Semester --</option>
          {% for sem in semesters %}
            <option value="{{ sem }}">Semester {{ sem }}</option>
          {% endfor %}
        </select>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <label class="form-label">Phone</label>
        <input type="text" name="phone" class="form-control">
      </div>
      <div class="col-md-6">
        <label class="form-label">Date of Birth</label>
        <input type="date" name="date_of_birth" class="form-control">
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Address</label>
      <textarea name="address" class="form-control" rows="2"></textarea>
    </div>

    <div class="mb-3">
      <label class="form-label">Password</label>
      <input type="password" name="password" class="form-control" required>
    </div>

    <button type="submit" class="btn btn-primary">Register Student</button>
  </form>
</div>
{% endblock %}
